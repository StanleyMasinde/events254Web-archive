(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{692:function(e,t,r){"use strict";r.r(t);var n=r(20),c=(r(81),r(29),r(51),{props:{show:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},currentTicket:{type:Object,default:function(){}}},data:function(){return{createTicketDialog:!1,success:null,tickets:[],ticket:{type:"General admission",price:0,limit:0}}},computed:{showDialog:{get:function(){return this.show},set:function(){this.$emit("hide")}}},mounted:function(){this.currentTicket&&(this.ticket=this.currentTicket)},methods:{handleSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.editing){t.next=6;break}return t.next=4,e.$axios.put("/events/".concat(e.$route.params.event,"/tickets/").concat(e.currentTicket.id),e.ticket);case 4:t.next=8;break;case 6:return t.next=8,e.$axios.post("/events/".concat(e.$route.params.event,"/tickets"),e.ticket);case 8:e.success="You have successfully added a ticket",e.createTicketDialog=!1,e.$emit("updated"),e.$emit("hide"),setTimeout((function(){e.success=null}),5e3),t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(0),new Error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}}),o=r(76),l=r(99),d=r.n(l),m=r(590),k=r(589),v=r(588),f=r(695),h=r(656),x=r(661),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"400"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[r("v-card",[r("v-card-title",[e._v(e._s(e.editing?"Update ticket information":"Add ticket to event your event"))]),e._v(" "),r("v-card-text",[r("ValidationObserver",{ref:"ticketForm",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[r("v-form",{staticClass:"mt-2",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[r("ValidationProvider",{attrs:{name:"description",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,outlined:"",label:"Name your ticket","auto-grow":"",rows:"1",hint:"example General admission"},model:{value:e.ticket.type,callback:function(t){e.$set(e.ticket,"type",t)},expression:"ticket.type"}})]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{name:"price",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{min:"0","error-messages":n,type:"number",label:"Price",outlined:""},model:{value:e.ticket.price,callback:function(t){e.$set(e.ticket,"price",t)},expression:"ticket.price"}})]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{name:"limit",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,hint:"0 removes the limit",min:"0",type:"number",label:"Ticket limit per user",outlined:""},model:{value:e.ticket.limit,callback:function(t){e.$set(e.ticket,"limit",t)},expression:"ticket.limit"}})]}}],null,!0)}),e._v(" "),r("v-btn",{attrs:{type:"submit",disabled:n,block:"",color:"primary"}},[e._v("\n            "+e._s(e.editing?"Update ticket":"Add ticket to event")+"\n          ")])],1)]}}])})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:m.a,VCard:k.a,VCardText:v.b,VCardTitle:v.c,VDialog:f.a,VForm:h.a,VTextField:x.a})}}]);